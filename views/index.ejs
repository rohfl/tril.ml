<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>
    <link href="style.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel="icon" href="data:image/png;base64,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">
    <title>tril.ml | URL Shortener</title>
</head>

<script>

    $(document).ready(function () {

        $('#urlform').submit(function (event) {
            event.preventDefault();
            $('.output').css('display', "none");
            $('.error').css('display', "none");
            $('#submit').prop('disabled', true);
            $("#submit").empty().text("Loading...");
            var posting = $.post("/checkurl", {
                longurl: $("#url").val(),
                customurl: $("#customurl").val(),
            });

            posting.done(function (data) {
                console.log(data);
                $('.output').css('display', "inline-block");
                $('#output').val('http://localhost:5000/' + data.customurl);
                $('#hidden').text(' http://localhost:5000/' + data.customurl);
                $("#submit").empty().text("Submit");
                $('#submit').prop('disabled', false);
            });

            posting.fail(function (data) {
                console.log(data);
                $('.error').css('display', "block");
                $('#error').text(data.responseJSON.response);
                $("#submit").empty().text("Submit");
                $('#submit').prop('disabled', false);
            });


            return false;
        });
    });

    function copyToClipboard(element) {
        var $temp = $("<input>");
        $("body").append($temp);
        $temp.val($(element).text()).select();
        document.execCommand("copy");
        $temp.remove();
    }

</script>

<body>
            
              <nav class="nav-container">
                
                <ul class="nav-items">
                    <div class="company">
                        <a href="/" class="companyname">tril.ml</a>
                    </div>
                    <li><a href="/" id="active" class="pages">home</a></li>
        
                    <li><a href="/about" class="pages">about</a></li>
        
                    <li><a href="/api" class="pages">api</a></li>
                </ul>
            </nav>
    
        <div class="form">
    
                <form id="urlform" action="/checkurl" method='POST'>
                    <input type="url" id="url" placeholder="Enter Url" name="longurl" required><br>
                    <input type="text" id="customurl" placeholder="Custom" name="custom"><br>
                    <button type="submit" id="submit">Submit</button>
                </form>
        
                <div class="error">
                    <p id="error"></p>
                </div>
                <div class="output">
                    <input readonly type="url" id="output">
                    <button onclick="copyToClipboard('#hidden')" id="copy">Copy</button>
                </div>
                <p hidden id="hidden"></p>
        
        </div>
    
    <div id="footer">
        <p>Made with &#10084 by Rohit</p>
    </div>


</body>
</html>